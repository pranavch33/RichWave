<!-- file: templates/home/wallet_transaction.html -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Wallet Transactions | ThriveOn</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
  body{font-family:'Inter',sans-serif;margin:0;background:#f5f7ff}
  .wrap{width:95%;margin:20px auto}
  .title{font-size:24px;font-weight:700;color:#222;margin-bottom:10px}
  .top-box{display:flex;gap:14px;margin-bottom:16px;align-items:center}
  .card{background:#fff;padding:18px;border-radius:12px;box-shadow:0 8px 20px rgba(0,0,0,.06)}
  .info{background:linear-gradient(90deg,#4b6bff,#7b8cff);padding:12px 18px;border-radius:12px;color:#fff;font-weight:700}
  .danger{background:linear-gradient(90deg,#ff6b6b,#ff8a8a);color:#fff;padding:12px 18px;border-radius:12px;font-weight:700}
  table{width:100%;border-collapse:collapse;margin-top:12px}
  th{background:#2d2d3a;color:#fff;padding:12px;font-size:13px;text-transform:uppercase}
  td{padding:12px;border-bottom:1px solid #eee;color:#333;font-size:14px}
  .credit{color:#0a8f32;font-weight:700}
  .debit{color:#d62828;font-weight:700}
  .no-data{text-align:center;padding:40px;color:#777;font-size:18px}
  .filters{display:flex;gap:8px;align-items:center}
  .input, select{padding:8px;border-radius:8px;border:1px solid #ddd}
  .btn{padding:8px 12px;border-radius:8px;border:none;background:#2d2d3a;color:#fff;cursor:pointer;font-weight:700}
</style>
</head>
<body>
<div class="wrap">
  <div class="title">Wallet Transactions</div>

  <div style="display:flex;justify-content:space-between;align-items:center">
    <div style="display:flex;gap:12px;align-items:center">
      <div class="info">Total Wallet Balance: ₹{{ total_wallet }}</div>
      <div class="danger">Total Withdrawal: ₹{{ total_withdrawal }}</div>
    </div>

    <form method="get" style="display:flex;gap:8px;align-items:center">
      <input name="q" class="input" placeholder="Search source" value="{{ q }}">
      <select name="tx_type" class="input">
        <option value="">All</option>
        <option value="credit" {% if tx_type == 'credit' %}selected{% endif %}>Credit</option>
        <option value="debit" {% if tx_type == 'debit' %}selected{% endif %}>Debit</option>
      </select>
      <button class="btn">Filter</button>
    </form>
  </div>

  <div class="card" style="margin-top:12px">
    <table>
      <thead>
        <tr>
          <th>#</th><th>Amount</th><th>Coming From</th><th>Type</th><th>Date</th>
        </tr>
      </thead>
      <tbody>
        {% for t in transactions %}
        <tr>
          <td>{{ t.id }}</td>
          <td>₹{{ t.amount }}</td>
          <td>{{ t.source }}</td>
          <td class="{% if t.tx_type == 'credit' %}credit{% else %}debit{% endif %}">{{ t.tx_type|title }}</td>
          <td>{{ t.created_at|date:"Y-m-d H:i" }}</td>
        </tr>
        {% empty %}
        <tr><td colspan="5" class="no-data">No Transactions Found</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
</body>
</html>